<ion-header>
  <ion-toolbar class="toolbar-header">
    <ion-title class="h3 text-center" text-center style="color: white; font-weight: 700;">Edit Password</ion-title>
    <ion-icon (click)="goBackToSettings()" name="arrow-back-outline" slot="start" style="zoom:2.0;"></ion-icon>

  </ion-toolbar>
</ion-header>
<ion-content>
<div class="container min-vh-100  align-items-center">
    <div class="col py-5">
      <div class="row justify-content-center">
        <div class="col-md-8 col-lg-6">
          <div>
            <form #passForm="ngForm"  onsubmit="editAccount(editForm)" >

              <div class="form-group mb-4">
                <label class="form-control-label">Current Password</label>
                <div class="input-group input-group-merge">
                  <div class="input-group-prepend">
                    <span class="input-group-text"><i class="fas fa-key"></i></span>
                  </div>
                  <input type="password" class="form-control" id="current-password" placeholder="********" required
                    [(ngModel)]="currentPassword" name="currentPassword" #current_password="ngModel" minlength="8" maxlength="20"
                    pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[@$!%*#?&]).{8,20}">
                    <div *ngIf="show_current" class="input-group-append">
                      <span class="input-group-text" (click)="showCurrentPassword()">
                        <ion-icon id="pass-icon" name="eye-outline"></ion-icon>
                      </span>
                    </div>
                    <div *ngIf="!show_current" class="input-group-append">
                      <span class="input-group-text" (click)="showCurrentPassword()">
                        <ion-icon id="pass-icon" name="eye-off-outline"></ion-icon>
                      </span>
                    </div>
                </div>
                <div class="alert alert-danger" *ngIf="current_password.touched && !current_password.valid">
                  <div *ngIf="current_password.errors.required">Current Password is required.</div>
                  <div *ngIf="current_password.errors.pattern">Must contain an uppercase letter, a number, a
                    special character, and be
                    between 8-20 character</div>
                </div>
              </div>

              <div class="form-group mb-4">
                <label class="form-control-label">New Password</label>
                <div class="input-group input-group-merge">
                  <div class="input-group-prepend">
                    <span class="input-group-text"><i class="fas fa-key"></i></span>
                  </div>
                  <input type="password" class="form-control" id="new-password" placeholder="********" required
                    [(ngModel)]="newPassword" name="newPassword" #new_password="ngModel" minlength="8" maxlength="20"
                    pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[@$!%*#?&]).{8,20}">
                    <div *ngIf="show_new" class="input-group-append">
                      <span class="input-group-text" (click)="showNewPassword()">
                        <ion-icon id="pass-icon" name="eye-outline"></ion-icon>
                      </span>
                    </div>
                    <div *ngIf="!show_new" class="input-group-append">
                      <span class="input-group-text" (click)="showNewPassword()">
                        <ion-icon id="pass-icon" name="eye-off-outline"></ion-icon>
                      </span>
                    </div>
                </div>
                <div class="alert alert-danger" *ngIf="new_password.touched && !new_password.valid">
                  <div *ngIf="new_password.errors.required">New Password is required.</div>
                  <div *ngIf="new_password.errors.pattern">Must contain an uppercase letter, a number, a
                    special character, and be
                    between 8-20 character</div>
                </div>
              </div>


              <button type="button" class="btn btn-block btn-primary" [disabled]="!passForm.form.valid" (click)="UpdateForm()"  >Update password</button>


            </form>
          </div>
        </div>
      </div>
    </div>
   </div>
   </ion-content>